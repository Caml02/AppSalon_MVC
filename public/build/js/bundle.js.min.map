{"version":3,"sources":["app.js","buscador.js","modernizr.js"],"names":["paso","pasoInicial","pasoFinal","cita","id","nombre","fecha","hora","servicios","iniciarApp","mostrarSeccion","tabs","botonesPaginador","paginaAnterior","paginaSiguiente","consultarAPI","idCliente","nombreCliente","seleccionarFecha","seleccionarHora","mostrarResumen","seccionAnterior","document","querySelector","classList","remove","pasoSelector","add","tabAnterior","querySelectorAll","forEach","boton","addEventListener","e","parseInt","target","dataset","async","url","resultado","fetch","mostrarServicios","json","error","console","log","servicio","precio","nombreServicio","createElement","textContent","precioServicio","servicioDiv","idServicio","onclick","seleccionarServicio","appendChild","divServicio","some","agregado","filter","value","dia","Date","getUTCDay","includes","mostrarAlerta","split","mensaje","tipo","elemento","desaparece","alertaPrevia","alerta","setTimeout","resumen","firstChild","removeChild","Object","values","length","headingServicios","contenedorServicios","textoServicio","innerHTML","headingCita","fechaObj","mes","getMonth","getDate","year","getFullYear","fechaFormateadoa","UTC","toLocaleDateString","weekday","month","day","fechaCita","horaCita","botonReservar","reservarCita","idServicios","map","datos","FormData","append","respuesta","method","body","Swal","fire","icon","title","text","button","then","window","location","reload","inciarApp","buscarPorFecha","fechaSeleccionada","n","A","o","a","u","className","Modernizr","_config","classPrefix","c","baseVal","enableJSClass","RegExp","replace","enableClasses","join","i","f","toLowerCase","t","Boolean","_trigger","s","r","l","_version","usePrefixes","_q","on","this","addTest","push","name","fn","options","addAsyncTest","prototype","documentElement","nodeName","hasOwnProperty","call","constructor","_l","type","width","Image","onerror","onload","src","uri","shift","aliases","p"],"mappings":"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","file":"bundle.js","sourcesContent":["let paso = 1;\r\nconst pasoInicial = 1;\r\nconst pasoFinal = 3;\r\n\r\nconst cita = {\r\n    id: '',\r\n    nombre:'',\r\n    fecha: '',\r\n    hora: '',\r\n    servicios: []\r\n}\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    iniciarApp();\r\n});\r\n\r\nfunction iniciarApp() {\r\n    mostrarSeccion();// Muestra las secciones. \r\n    tabs(); //Navegar entre tabs.   \r\n    botonesPaginador(); //Muestra o quita el paginador. \r\n    paginaAnterior();\r\n    paginaSiguiente();\r\n\r\n    consultarAPI(); // Consultar API de la base de datos PHP\r\n    idCliente(); //id cliente \r\n    nombreCliente(); // Nombre Cliente lo añade al objeto de la cita\r\n    seleccionarFecha(); // Agregar Fecha  al objeto de la cita\r\n    seleccionarHora(); // Agregar Hora el objeto de la cita\r\n\r\n    mostrarResumen(); // Mostrar Resumen\r\n\r\n}\r\n\r\nfunction mostrarSeccion() { \r\n\r\n    //Ocultar seccion Anterior.\r\n\r\n    const seccionAnterior = document.querySelector('.mostrar');\r\n    if(seccionAnterior) {\r\n        seccionAnterior.classList.remove('mostrar');\r\n    }\r\n    \r\n    // Seleccionar la tab. \r\n    const pasoSelector = `#paso-${paso}`;\r\n    const seccion = document.querySelector(pasoSelector);\r\n    seccion.classList.add('mostrar');\r\n\r\n      //Ocultar Tab Anterior.\r\n\r\n      const tabAnterior = document.querySelector('.actual');\r\n      if(tabAnterior) {\r\n          tabAnterior.classList.remove('actual');\r\n      }\r\n\r\n    // Resalta el Tab actual.\r\n\r\n    const tab = document.querySelector(`[data-paso=\"${paso}\"]`);\r\n    tab.classList.add('actual');\r\n\r\n}\r\n\r\n\r\nfunction tabs() {\r\n    const botones = document.querySelectorAll('.tabs button');\r\n    botones.forEach(boton => {\r\n        boton.addEventListener('click', function(e) {\r\n            paso = parseInt( e.target.dataset.paso );\r\n            mostrarSeccion(); \r\n            botonesPaginador();\r\n\r\n        });\r\n    })\r\n}\r\n\r\nfunction botonesPaginador () {\r\n\r\n    const paginaAnterior = document.querySelector('#anterior');\r\n    const paginaSiguiente = document.querySelector('#siguiente');\r\n\r\n    if (paso === 1) {\r\n        paginaAnterior.classList.add('ocultar');\r\n        paginaSiguiente.classList.remove('ocultar');\r\n\r\n    } else if (paso === 3) {\r\n        paginaAnterior.classList.remove('ocultar');\r\n        paginaSiguiente.classList.add('ocultar');\r\n\r\n        mostrarResumen();\r\n    } else {\r\n        paginaAnterior.classList.remove('ocultar');\r\n        paginaSiguiente.classList.remove('ocultar');\r\n    }\r\n\r\n    mostrarSeccion();\r\n} \r\n\r\n\r\nfunction paginaAnterior() {\r\n    const paginaAnterior = document.querySelector('#anterior');\r\n    paginaAnterior.addEventListener('click', function() {\r\n\r\n        if(paso <= pasoInicial) return;\r\n        paso--;\r\n\r\n        botonesPaginador();\r\n\r\n    })\r\n\r\n}\r\nfunction paginaSiguiente() {\r\n    const paginaSiguiente = document.querySelector('#siguiente');\r\n    paginaSiguiente.addEventListener('click', function() {\r\n\r\n        if(paso >= pasoFinal) return;\r\n        paso++;\r\n\r\n        botonesPaginador();\r\n    })\r\n}\r\n\r\nasync function consultarAPI() {\r\n\r\n    try {\r\n        const url = 'http://localhost:3000/api/servicios';\r\n        const resultado = await fetch(url);\r\n        const servicios = await resultado.json();\r\n        mostrarServicios(servicios);\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nfunction mostrarServicios(servicios) {\r\n    servicios.forEach(servicio => {\r\n    const {id, nombre, precio} = servicio;\r\n\r\n    const nombreServicio = document.createElement('P');\r\n    nombreServicio.classList.add('nombre-servicio');\r\n    nombreServicio.textContent = nombre;\r\n\r\n    const precioServicio = document.createElement('P');\r\n    precioServicio.classList.add('precio-servicio');\r\n    precioServicio.textContent = `$${precio}`;\r\n\r\n    const servicioDiv = document.createElement('DIV');\r\n    servicioDiv.classList.add('servicio');\r\n    servicioDiv.dataset.idServicio = id;\r\n    servicioDiv.onclick = function () {\r\n        seleccionarServicio(servicio);\r\n    }\r\n\r\n    servicioDiv.appendChild(nombreServicio);\r\n    servicioDiv.appendChild(precioServicio);\r\n\r\n    document.querySelector('#servicios').appendChild(servicioDiv);\r\n\r\n\r\n    });\r\n}\r\n\r\nfunction seleccionarServicio(servicio) {\r\n    const { id } = servicio;\r\n    const { servicios } = cita;\r\n    //Identifica elemento seleccionado\r\n    const divServicio = document.querySelector(`[data-id-servicio=\"${id}\"]`);\r\n\r\n\r\n    //Comprobar servicios Agregados\r\n    if( servicios.some ( agregado => agregado.id === id )) {\r\n        //Eliminar Servicio seleccionado \r\n        cita.servicios = servicios.filter (agregado => agregado.id !== id);\r\n        divServicio.classList.remove('seleccionado');\r\n\r\n    } else {\r\n        //Agregar seleccion\r\n        cita.servicios = [...servicios, servicio];\r\n        divServicio.classList.add('seleccionado');\r\n    }\r\n}\r\n\r\nfunction idCliente() {\r\n    cita.id = document.querySelector('#id').value;\r\n\r\n}\r\nfunction nombreCliente() {\r\n    cita.nombre = document.querySelector('#nombre').value;\r\n\r\n}\r\n\r\nfunction seleccionarFecha() {\r\n    const inputFecha = document.querySelector('#fecha');\r\n    inputFecha.addEventListener('input', function(e) {\r\n        const dia = new Date (e.target.value).getUTCDay();\r\n\r\n        if ( [6, 0].includes(dia) ) {\r\n            e.target.value = '';\r\n            mostrarAlerta('fines de semana no permitido', 'error', '.formulario');\r\n        } else {\r\n            cita.fecha = e.target.value;\r\n        }\r\n    });\r\n}\r\n\r\nfunction seleccionarHora() {\r\n    const inputHora = document.querySelector('#hora');\r\n    inputHora.addEventListener('input', function(e) {\r\n        const horaCita = e.target.value;\r\n        const hora = horaCita.split(\":\")[0];\r\n        if (hora < 10 || hora > 18) {\r\n            e.target.value = \"\";\r\n            mostrarAlerta('Hora No Valida', 'error', '.formulario');\r\n        } else {\r\n            cita.hora = e.target.value;\r\n        }\r\n    })\r\n}\r\n\r\nfunction mostrarAlerta(mensaje, tipo, elemento, desaparece = true) {\r\n\r\n    //Prevenir que se genera mas de una alerta\r\n    const alertaPrevia = document.querySelector('.alerta');\r\n    if (alertaPrevia) {\r\n        alertaPrevia.remove();\r\n    }\r\n\r\n    // Crear Alerta\r\n    const alerta = document.createElement('DIV');\r\n    alerta.textContent = mensaje;\r\n    alerta.classList.add('alerta');\r\n    alerta.classList.add(tipo);\r\n    \r\n    const referencia = document.querySelector(elemento);\r\n    referencia.appendChild(alerta);   \r\n\r\n    // Remover Alerta\r\n    if (desaparece) {\r\n        setTimeout(() => {\r\n            alerta.remove();\r\n        }, 3000);\r\n    }\r\n  \r\n}\r\n\r\nfunction mostrarResumen() {\r\n    const resumen = document.querySelector('.contenido-resumen');\r\n\r\n    while(resumen.firstChild) {\r\n        resumen.removeChild(resumen.firstChild);\r\n    }\r\n\r\n    if (Object.values(cita).includes('') || cita.servicios.length === 0) {\r\n        mostrarAlerta('Faltan datos de servicios, fecha u hora.', 'error', '.contenido-resumen', false);\r\n\r\n        return;\r\n    } \r\n\r\n    // Formatear el DIV de resumen\r\n\r\n    const {nombre, fecha, hora, servicios} = cita;\r\n\r\n    //Heading mostrar resumen servicios\r\n\r\n    const headingServicios = document.createElement('H3');\r\n    headingServicios.textContent = 'Resumen Servicios';\r\n    resumen.appendChild(headingServicios);\r\n\r\n    //mostrando e Iterando los servicios\r\n\r\n    servicios.forEach(servicios => {\r\n        const {id, precio, nombre} = servicios;\r\n        const contenedorServicios = document.createElement('DIV');\r\n        contenedorServicios.classList.add('contenedor-servicio');\r\n\r\n        const textoServicio = document.createElement('P');\r\n        textoServicio.textContent = nombre;\r\n\r\n        const precioServicio = document.createElement('P');\r\n        precioServicio.innerHTML = `<span>Precio:</span> $${precio}`;\r\n\r\n        contenedorServicios.appendChild(textoServicio);\r\n        contenedorServicios.appendChild(precioServicio);\r\n\r\n        resumen.appendChild(contenedorServicios);\r\n\r\n    });\r\n\r\n    //Heading resumen cita\r\n\r\n    const headingCita = document.createElement('H3');\r\n    headingCita.textContent = 'Resumen Cita';\r\n    resumen.appendChild(headingCita);\r\n\r\n    const nombreCliente = document.createElement('P');\r\n    nombreCliente.innerHTML = `<span>Nombre:</span> ${nombre}`;\r\n\r\n    //Fomrtaear fecha de forma amigable o en español \r\n    \r\n    const fechaObj = new Date(fecha);\r\n    const mes = fechaObj.getMonth();\r\n    const dia = fechaObj.getDate() + 2;\r\n    const year = fechaObj.getFullYear();\r\n\r\n    const fechaUTC = new Date(Date.UTC(year, mes, dia));\r\n    const opciones = {weekday: 'long', month: 'long', day: 'numeric', year: 'numeric'}\r\n    const fechaFormateadoa = fechaUTC.toLocaleDateString('es-MX', opciones);\r\n\r\n\r\n    const fechaCita = document.createElement('P');\r\n    fechaCita.innerHTML = `<span>Fecha:</span> ${fechaFormateadoa}`;\r\n\r\n    const horaCita = document.createElement('P');\r\n    horaCita.innerHTML = `<span>Hora:</span> ${hora}`;\r\n\r\n    //Boton para reservar cita \r\n\r\n    const botonReservar = document.createElement('BUTTON');\r\n    botonReservar.classList.add('boton');\r\n    botonReservar.textContent ='Reservar Cita';\r\n    botonReservar.onclick = reservarCita;\r\n   \r\n\r\n    resumen.appendChild(nombreCliente);  \r\n    resumen.appendChild(fechaCita);\r\n    resumen.appendChild(horaCita);\r\n    resumen.appendChild(botonReservar);\r\n\r\n}\r\n\r\nasync function reservarCita() {\r\n\r\n    const {nombre, fecha, hora, servicios, id} = cita;\r\n    const idServicios = servicios.map(servicio => servicio.id);\r\n   // console.log(idServicios);\r\n    const datos = new FormData();\r\n    datos.append('fecha', fecha);\r\n    datos.append('hora', hora);\r\n    datos.append('usuarioId', id);\r\n    datos.append('servicios', idServicios);\r\n\r\n\r\n    //    console.log([...datos]);\r\n\r\n    try {\r\n        const url = 'http://localhost:3000/api/citas'\r\n        const respuesta = await fetch(url, {\r\n            method: 'POST',\r\n            body: datos\r\n        });\r\n    \r\n        const resultado = await respuesta.json();\r\n    \r\n        if (resultado.resultado) {\r\n            Swal.fire({\r\n                icon: 'success',\r\n                title: 'Cita Creada',\r\n                text: 'haz creado tu cita correctamente!',\r\n                button: 'Ok'\r\n              }).then( () => {\r\n                setTimeout (() => {\r\n                    window.location.reload();\r\n                },3000);\r\n              })\r\n        } \r\n\r\n    } catch (error) {\r\n        Swal.fire({\r\n            icon: 'error',\r\n            title: 'Error!',\r\n            text: 'Error al guardar la cita!',\r\n          })\r\n    }\r\n\r\n}","document.addEventListener('DOMContentLoaded', function() {\r\n    inciarApp();\r\n});\r\n\r\nfunction inciarApp() {\r\n    buscarPorFecha();\r\n}\r\n\r\nfunction buscarPorFecha() {\r\n    const fechaInput = document.querySelector('#fecha');\r\n    fechaInput.addEventListener('input', function(e) {\r\n        const fechaSeleccionada =e.target.value;\r\n\r\n        window.location = `?fecha=${fechaSeleccionada}`;\r\n    }); \r\n}\r\n\r\n\r\n","/*! modernizr 3.6.0 (Custom Build) | MIT *\n * https://modernizr.com/download/?-webp-setclasses !*/\n !function(e,n,A){function o(e,n){return typeof e===n}function t(){var e,n,A,t,a,i,l;for(var f in r)if(r.hasOwnProperty(f)){if(e=[],n=r[f],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(A=0;A<n.options.aliases.length;A++)e.push(n.options.aliases[A].toLowerCase());for(t=o(n.fn,\"function\")?n.fn():n.fn,a=0;a<e.length;a++)i=e[a],l=i.split(\".\"),1===l.length?Modernizr[l[0]]=t:(!Modernizr[l[0]]||Modernizr[l[0]]instanceof Boolean||(Modernizr[l[0]]=new Boolean(Modernizr[l[0]])),Modernizr[l[0]][l[1]]=t),s.push((t?\"\":\"no-\")+l.join(\"-\"))}}function a(e){var n=u.className,A=Modernizr._config.classPrefix||\"\";if(c&&(n=n.baseVal),Modernizr._config.enableJSClass){var o=new RegExp(\"(^|\\\\s)\"+A+\"no-js(\\\\s|$)\");n=n.replace(o,\"$1\"+A+\"js$2\")}Modernizr._config.enableClasses&&(n+=\" \"+A+e.join(\" \"+A),c?u.className.baseVal=n:u.className=n)}function i(e,n){if(\"object\"==typeof e)for(var A in e)f(e,A)&&i(A,e[A]);else{e=e.toLowerCase();var o=e.split(\".\"),t=Modernizr[o[0]];if(2==o.length&&(t=t[o[1]]),\"undefined\"!=typeof t)return Modernizr;n=\"function\"==typeof n?n():n,1==o.length?Modernizr[o[0]]=n:(!Modernizr[o[0]]||Modernizr[o[0]]instanceof Boolean||(Modernizr[o[0]]=new Boolean(Modernizr[o[0]])),Modernizr[o[0]][o[1]]=n),a([(n&&0!=n?\"\":\"no-\")+o.join(\"-\")]),Modernizr._trigger(e,n)}return Modernizr}var s=[],r=[],l={_version:\"3.6.0\",_config:{classPrefix:\"\",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var A=this;setTimeout(function(){n(A[e])},0)},addTest:function(e,n,A){r.push({name:e,fn:n,options:A})},addAsyncTest:function(e){r.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=l,Modernizr=new Modernizr;var f,u=n.documentElement,c=\"svg\"===u.nodeName.toLowerCase();!function(){var e={}.hasOwnProperty;f=o(e,\"undefined\")||o(e.call,\"undefined\")?function(e,n){return n in e&&o(e.constructor.prototype[n],\"undefined\")}:function(n,A){return e.call(n,A)}}(),l._l={},l.on=function(e,n){this._l[e]||(this._l[e]=[]),this._l[e].push(n),Modernizr.hasOwnProperty(e)&&setTimeout(function(){Modernizr._trigger(e,Modernizr[e])},0)},l._trigger=function(e,n){if(this._l[e]){var A=this._l[e];setTimeout(function(){var e,o;for(e=0;e<A.length;e++)(o=A[e])(n)},0),delete this._l[e]}},Modernizr._q.push(function(){l.addTest=i}),Modernizr.addAsyncTest(function(){function e(e,n,A){function o(n){var o=n&&\"load\"===n.type?1==t.width:!1,a=\"webp\"===e;i(e,a&&o?new Boolean(o):o),A&&A(n)}var t=new Image;t.onerror=o,t.onload=o,t.src=n}var n=[{uri:\"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=\",name:\"webp\"},{uri:\"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==\",name:\"webp.alpha\"},{uri:\"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA\",name:\"webp.animation\"},{uri:\"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=\",name:\"webp.lossless\"}],A=n.shift();e(A.name,A.uri,function(A){if(A&&\"load\"===A.type)for(var o=0;o<n.length;o++)e(n[o].name,n[o].uri)})}),t(),a(s),delete l.addTest,delete l.addAsyncTest;for(var p=0;p<Modernizr._q.length;p++)Modernizr._q[p]();e.Modernizr=Modernizr}(window,document);"]}